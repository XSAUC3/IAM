<div *ngIf="!rsp" class="limiter">
<div class="header">
  <h5 class="title">LDAP Configuration</h5>
</div>
  <form role="form" #aData="ngForm" (ngSubmit)="addconfig(aData.value);">
      <div class="box-body">
        <div class="form-group">
          <input type="hidden" autocomplete="off" class="form-control" name="id" id="id" [(ngModel)]="id" >
        </div>
        <h5 class="title">Server Details</h5>
        <div class="form-group">
          <label>URL</label>
          <input type="text" autocomplete="off" class="form-control" name="url" id="url" placeholder="Enter URL" [(ngModel)]="url">
        </div>
        <div class="form-group">
          <label>PORT</label>
          <input type="text" autocomplete="off" class="form-control" name="port" id="port" placeholder="Enter PORT" [(ngModel)]="port">
        </div>
        <div class="form-group">
          <label>Admin UID</label>
          <input type="text" autocomplete="off" class="form-control" name="admin_uid" id="admin_uid" placeholder="Enter Admin ID" [(ngModel)]="admin_uid">
        </div>
        <div class="form-group">
          <label>Admin Password</label>
          <input type="password" autocomplete="off" class="form-control" name="admin_password" id="admin_password" placeholder="Enter Password" [(ngModel)]="admin_password">
        </div>
        <h5 class="title">User Details</h5>
        <div class="form-group">
          <label>Base DN</label>
          <input type="text" autocomplete="off" class="form-control" name="user_base_dn" id="user_base_dn" placeholder="Enter Base DN" [(ngModel)]="user_base_dn">
        </div>
        <div class="form-group">
          <label>Object Class</label>
          <input type="text" autocomplete="off" class="form-control" name="user_object_class" id="user_object_class" placeholder="Enter Object Class" [(ngModel)]="user_object_class">
        </div>
        <div class="form-group">
          <label>Filter</label>
          <input type="text" autocomplete="off" class="form-control" name="user_base_filter" id="user_base_filter" placeholder="Enter Base Filter" [(ngModel)]="user_base_filter">
        </div>
        <div class="form-group">
          <label>Search Scope</label>
          <select class="form-control" name="user_search_scope" id="user_search_scope" [(ngModel)]="user_search_scope">
            <option value="" disabled="disabled">--- Select Scope ---</option>
            <option value="sub">sub</option>
          </select>
        </div>
        <div class="form-group">
          <label>UserName Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="username" id="username" placeholder="Enter Username Attribute" [(ngModel)]="username">
        </div>
        <div class="form-group">
          <label>UserPassword Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="user_password" id="user_password" placeholder="Enter UserPassword Attribute" [(ngModel)]="user_password">
        </div>
        <div class="form-group">
          <label>First Name Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="firstname" id="firstname" placeholder="Enter FirstName Attribute" [(ngModel)]="firstname">
        </div>
        <div class="form-group">
          <label>Last Name Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="lastname" id="lastname" placeholder="Enter LastName Attribute" [(ngModel)]="lastname">
        </div>
        <div class="form-group">
          <label>Mobile No. Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="mobile_no" id="mobile_no" placeholder="Enter Mobile Attribute" [(ngModel)]="mobile_no">
        </div>
        <div class="form-group">
          <label>Email Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="email" id="email" placeholder="Enter Email Attribute" [(ngModel)]="email">
        </div>
        <div class="form-group">
          <label>Designation Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="designation" id="designation" placeholder="Enter Designation Attribute" [(ngModel)]="designation">
        </div>
        <h5 class="title">Role(Groups) Details</h5>
        <div class="form-group">
          <label>Base DN</label>
          <input type="text" autocomplete="off" class="form-control" name="role_base_dn" id="role_base_dn" placeholder="Enter Base DN" [(ngModel)]="role_base_dn">
        </div>
        <div class="form-group">
          <label>Object Class</label>
          <input type="text" autocomplete="off" class="form-control" name="role_object_class" id="role_object_class" placeholder="Enter Object Class" [(ngModel)]="role_object_class">
        </div>
        <div class="form-group">
          <label>Filter</label>
          <input type="text" autocomplete="off" class="form-control" name="role_base_filter" id="role_base_filter" placeholder="Enter Base Filter" [(ngModel)]="role_base_filter">
        </div>
        <div class="form-group">
          <label>Search Scope</label>
          <select class="form-control" name="role_search_scope" id="role_search_scope" [(ngModel)]="role_search_scope">
              <option value="" disabled="disabled">--- Select Scope ---</option>
              <option value="sub">sub</option>
            </select>
        </div>
        <div class="form-group">
          <label>Role Name Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="role_name" id="role_name" placeholder="Enter Role Name Attribute" [(ngModel)]="role_name">
        </div>
        <div class="form-group">
          <label>Role ID Attribute</label>
          <input type="text" autocomplete="off" class="form-control" name="role_id" id="role_id" placeholder="Enter Role ID Attribute" [(ngModel)]="role_id">
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Add</button>
            <button class="btn btn-danger" (click)="close_add();">Close</button>
        </div>
      </div>
    </form>
</div>
<div *ngIf="rsp">
  <section class="content-header">

    <div class="row">
      <div class="col-md-6">
        <h1>
          LDAP Configuration
        </h1>
      </div>
      <div class="col-md-6">
          <ol id="ol" class="breadcrumb">
            <li class="active">
              <b>
                <a style="color:#00bcd4;" (click)="change_rsp();">
                  <i class="material-icons">build</i>Config</a>
              </b>
            </li>
            <li class="Reload">
              <b>
                <a style="color:#f44336;" (click)="refresh()">
                  <i class="material-icons">autorenew</i>Reload</a>
              </b>
            </li>
            <li class="Reload">
              <b>
                <a style="color:#4caf50;" [routerLink]="['/dashboard']">
                  <i class="material-icons">home</i>Home</a>
              </b>
            </li>
            <li class="Reload">
              <b>
                <a style="color:#ff9800;" (click)="checkConnection()">
                  <i class="material-icons">compare_arrows</i>Test Connection</a>
              </b>
            </li>
          </ol>
        </div>
    </div>
  
  </section>
  
  <!-- Main content -->
  <section class="content">
  
    <div class="box">
  
      <!-- /.box-header -->
      <div class="box-body">
        <div class="table-responsive">
          <table id="dt" class="table table-bordered table-hover">
            <thead>
              <tr>
                <th>Attribute</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody *ngFor="let config of configs;">
              <tr>
                <td>Port</td>
                <td>{{config.Port}}</td>
              </tr>
              <tr>
                <td>Url</td>
                <td>{{config.Url}}</td>
              </tr>
              <tr>
                <td>Admin Username Base DN</td>
                <td>{{config.Admin_UID_BaseDN}}</td>
              </tr>
              <tr>
                <td>Admin Password</td>
                <td><div *ngIf="config.Admin_Password_Attr != ''">*****</div></td>
              </tr>
              <tr>
                <td>User Base DN</td>
                <td>{{config.UserBase_DN}}</td>
              </tr>
              <tr>
                <td>Role Base DN</td>
                <td>{{config.RoleBase_DN}}</td>
              </tr>
              <tr>
                <td>User Object Class</td>
                <td>{{config.User_ObjectClass}}</td>
              </tr>
              <tr>
                <td>Role Object Class</td>
                <td>{{config.Role_ObjectClass}}</td>
              </tr>
              <tr>
                <td>User Base Filter</td>
                <td>{{config.UserBase_Filter}}</td>
              </tr>
              <tr>
                <td>Role Base Filter</td>
                <td>{{config.RoleBase_Filter}}</td>
              </tr>
              <tr>
                <td>User Search Scope</td>
                <td>{{config.UserSearch_Scope}}</td>
              </tr>
              <tr>
                <td>Role Search Scope</td>
                <td>{{config.RoleSearch_Scope}}</td>
              </tr>
              <tr>
                <td>User Name</td>
                <td>{{config.UserName_Attr}}</td>
              </tr>
              <tr>
                <td>User Password</td>
                <td>{{config.Password_Attr}}</td>
              </tr>
              <tr>
                <td>Email</td>
                <td>{{config.Email_Attr}}</td>
              </tr>
              <tr>
                <td>Designation</td>
                <td>{{config.Designation_Attr}}</td>
              </tr>
              <tr>
                <td>Mobile No</td>
                <td>{{config.Mobile_No_Attr}}</td>
              </tr>
              <tr>
                <td>First Name</td>
                <td>{{config.FirstName_Attr}}</td>
              </tr>
              <tr>
                <td>Last Name</td>
                <td>{{config.LastName_Attr}}</td>
              </tr>
              <tr>
                <td>Role Name</td>
                <td>{{config.RoleName_Attr}}</td>
              </tr>
              <tr>
                <td>Role Id</td>
                <td>{{config.RoleId_Attr}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

</div>
